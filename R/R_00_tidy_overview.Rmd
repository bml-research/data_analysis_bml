---
title: "R Tidy Overview"
author: ""
date: ""
output: 
  prettydoc::html_pretty:
    theme: cayman
    highlight: github
---

![](../hanze/hanze.png)

---

[Go back to the main page](../index.html)  
[Go back to the R overview page](../R/R_01_index.html)  

---

```{r setup, include=FALSE} 
knitr::opts_chunk$set(warning = FALSE, message = FALSE) 
```

This Rmd file can be downloaded [here](./R_00_tidy_overview.Rmd)


>The following function is used to print tibbles in a proper way for the web. You can skip the use of this function to print tibbles to your screen in R Markdown documents.


```{r}
library(knitr)
library(kableExtra)
library(pillar)

formatted_table <- function(df) {
  col_types <- sapply(df, pillar::type_sum)
  new_col_names <- paste0(names(df), "<br>", "<span style='font-weight: normal;'>", col_types, "</span>")
  kbl(df, 
      col.names = new_col_names, 
      escape = FALSE, # This is crucial to allow the <br> tag to work
      format = "html" # Ensure HTML format, although often auto-detected
      ) %>%
    kable_styling(bootstrap_options = c("striped", "hover", "responsive"))
}
```

# R: Tidyverse overview


Loading the tidyverse library:

```{r}
library(tidyverse)
```


## Common Tidyverse functions 

Herewith a table with some commonly used Tidyverse functions and the applications:  

| Package | Function | Primary Purpose | Description |
| :--- | :--- | :--- | :--- |
| **`dplyr`** | `filter()` | Subset rows | Selects a subset of rows based on column values that meet specified logical conditions. |
| **`dplyr`** | `slice()` | Subset rows by position | Selects rows by their integer position in the data frame. Also includes helpers like `slice_head()`, `slice_tail()`, `slice_min()`, `slice_max()`, and `slice_sample()`. |
| **`dplyr`** | `select()` | Subset columns | Selects, drops, or reorders columns by their names. |
| **`dplyr`** | `mutate()` | Add/Modify columns | Adds new columns or modifies existing ones based on a formula. |
| **`dplyr`** | `arrange()` | Reorder rows | Sorts rows by the values of specified column(s) in ascending or descending order. |
| **`dplyr`** | `group_by()` | Group data | Creates grouped data that subsequent functions (like `summarize()`) operate on for each group. |
| **`dplyr`** | `summarize()` | Summarize data | Reduces multiple values down to a single summary statistic (e.g., mean, count, standard deviation). |
| **`dplyr`** | `inner_join()` | Combine data | Joins two data frames by matching keys, keeping only rows that have matches in *both* tables. |
| **`tidyr`** | `pivot_longer()` | Reshape data | Lengthens data, increasing the number of rows and decreasing the number of columns. |
| **`tidyr`** | `pivot_wider()` | Reshape data | Widens data, decreasing the number of rows and increasing the number of columns. |
| **`ggplot2`**| `ggplot()` | Create visualizations | Initializes a ggplot object, defining the data and aesthetic mappings. |
| **Base R** | `%>%` (pipe) | Chaining operations | Feeds the result of one function directly into the first argument of the next function. |


## Tidyverse Functions for Data Frame (Tibble) Manipulations


## 1. Actions on Rows

| Function | Description |
|-----------|--------------|
| `drop_na(df, col)` | Drop all rows for which `col` shows an NA value |
| `drop_na(df, col1, col2, …)` | Drop all rows for which `col1` and/or `col2` show NA values |
| `drop_na(df)` or `drop_na(df, everything())` | Drop all rows where any column has an NA value |
| `slice(df, rownr)` | Pick all data from row number `rownr` |
| `slice(df, c(nr1, nr2, …))` | Pick all data from row numbers `nr1`, `nr2`, etc. |
| `slice_head(df, n = n, prop = prop)` | Pick the first `n` rows (or fraction `prop`) of the data frame |
| `slice_tail(df, n = n, prop = prop)` | Pick the last `n` rows (or fraction `prop`) of the data frame |
| `slice_min(df, col)` | Pick the row with the smallest value of `col` |
| `slice_max(df, col)` | Pick the row with the largest value of `col` |
| `slice_sample(df, n = n, prop = prop)` | Pick `n` random rows (or fraction `prop`) of the data frame |
| `filter(df, col > value)` | Filter rows for which `col` has data greater than `value` |
| *(Other filter options)* | `col >`, `>=`, `<`, `<=`, `==`, `!=`, `!(condition)`, or `between(col, a, b)` |
| `arrange(df, col)` | Sort the data frame by increasing values of `col` |
| `arrange(col1, col2)` | Sort by `col1`, then by `col2` within each `col1` group |
| `arrange(desc(col))` | Sort the data frame by decreasing values of `col` |

---

## 2. Actions on Columns

| Function | Description |
|-----------|--------------|
| `select(df, col1, col2, …)` | Select only columns `col1`, `col2`, etc. |
| `select(df, -col1)` | Select all columns except `col1` |
| `select(df, col1:col3)` | Select columns from `col1` through `col3` |
| `select(df, starts_with("string"))` | Select columns whose names start with `"string"` |
| `select(df, ends_with("string"))` | Select columns whose names end with `"string"` |
| `select(df, contains("string"))` | Select columns whose names contain `"string"` |
| `select(df, where(is.character))` | Select only character columns |
| `select(df, where(is.numeric))` | Select only numeric columns |
| `select(df, everything())` | Select all columns |
| `select(df, newname1 = col1, newname2 = col2, …)` | Select and rename columns |
| `pull(df, col)` | Get the values of a column as a vector |
| `pull(df, colnr)` | Get the values of column number `colnr` (counting from left) as a vector |
| `pull(df, -colnr)` | Get the values of column number `colnr` (counting from right) as a vector |

---

## 3. Actions with Groups

| Function | Description |
|-----------|--------------|
| `group_by(df, col)` | Create grouped tibbles based on levels of `col` |
| `group_by(df, col1, col2)` | Create nested grouped tibbles based on levels of `col1` and `col2` |
| `summarize(df, newname1 = funct1(col1), newname2 = funct2(col2), …)` | Make a summary table applying functions to grouped columns |
| *(Function options)* | `mean()`, `median()`, `sd()`, `IQR()`, each with optional `na.rm = TRUE` |
| `ungroup(df)` | Combine all sub-tibbles back into one tibble |



---

[Go back to the main page](../index.html)  
[Go back to the R overview page](../R/R_01_index.html)  
<a href="#top">⬆️ Back to Top</a>  

---


>This web page is distributed under the terms of the Creative Commons Attribution License which permits unrestricted use, distribution, and reproduction in any medium, provided the original author and source are credited.
>Creative Commons License: CC BY-SA 4.0.

